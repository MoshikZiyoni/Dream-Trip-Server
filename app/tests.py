# def process_list():

#         my_list = [
#         "London, United Kingdom",
#         "New York City, United States",
#         "Paris, France",
#         "Tokyo, Japan",
#         "Sydney, Australia",
#         "Rome, Italy",
#         "Berlin, Germany",
#         "Moscow, Russia",
#         "Beijing, China",
#         "Toronto, Canada",
#         "Madrid, Spain",
#         "Cairo, Egypt",
#         "Istanbul, Turkey",
#         "Rio de Janeiro, Brazil",
#         "Cape Town, South Africa",
#         "Mumbai, India",
#         "Buenos Aires, Argentina",
#         "Dubai, United Arab Emirates",
#         # "Seoul, South Korea",
#         "Athens, Greece",
#         "Amsterdam, Netherlands",
#         "Prague, Czech Republic",
#         "Vienna, Austria",
#         "Helsinki, Finland",
#         "Bangkok, Thailand",
#         "Singapore, Singapore",
#         "Stockholm, Sweden",
#         "Copenhagen, Denmark",
#         "Budapest, Hungary",
#         "Dublin, Ireland",
#         "Warsaw, Poland",
#         "Lisbon, Portugal",
#         "Oslo, Norway",
#         "Reykjavik, Iceland",
#         "Brasília, Brazil",
#         "Mexico City, Mexico",
#         "Santiago, Chile",
#         "Bogota, Colombia",
#         "Lima, Peru",
#         "Caracas, Venezuela",
#         "Johannesburg, South Africa",
#         "Nairobi, Kenya",
#         "Casablanca, Morocco",
#         "Beirut, Lebanon",
#         "New Delhi, India",
#         "Hanoi, Vietnam",
#         "Manila, Philippines",
#         "Jakarta, Indonesia",
#         "Kuala Lumpur, Malaysia",
#         "Wellington, New Zealand",
#         "San Francisco, United States",
#         "Los Angeles, United States",
#         "Chicago, United States",
#         "Miami, United States",
#         "Boston, United States",
#         "Seattle, United States",
#         "Las Vegas, United States",
#         # "Washington, D.C., United States",
#         "San Diego, United States",
#         "Houston, United States",
#         "Dallas, United States",
#         "Atlanta, United States",
#         "Denver, United States",
#         "Phoenix, United States",
#         "Portland, United States",
#         "Philadelphia, United States",
#         "Vancouver, Canada",
#         "Montreal, Canada",
#         "Calgary, Canada",
#         "Ottawa, Canada",
#         "Edmonton, Canada",
#         "Quebec City, Canada",
#         "Sydney, Canada",
#         "Melbourne, Australia",
#         "Brisbane, Australia",
#         "Perth, Australia",
#         "Adelaide, Australia",
#         "Auckland, New Zealand",
#         "Christchurch, New Zealand",
#         "Wellington, New Zealand",
#         "Mumbai, India",
#         "Delhi, India",
#         "Bangalore, India",
#         "Chennai, India",
#         "Kolkata, India",
#         "Hyderabad, India",
#         "Ahmedabad, India",
#         "Pune, India",
#         "Jaipur, India",
#         "Tokyo, Japan",
#         "Yokohama, Japan",
#         "Osaka, Japan",
#         "Nagoya, Japan",
#         "Sapporo, Japan",
#         "Fukuoka, Japan",
#         "Kyoto, Japan",
#         "Hiroshima, Japan",
#         "Barcelona, Spain",
#         "Valencia, Spain",
#         "Seville, Spain",
#         "Malaga, Spain",
#         "Bilbao, Spain",
#         "Granada, Spain",
#         "Alicante, Spain",
#         "Zaragoza, Spain",
#         "Rome, Italy",
#         "Milan, Italy",
#         "Naples, Italy",
#         "Turin, Italy",
#         "Florence, Italy",
#         "Venice, Italy",
#         "Bologna, Italy",
#         "Genoa, Italy",
#         "Paris, France",
#         "Marseille, France",
#         "Lyon, France",
#         "Toulouse, France",
#         "Nice, France",
#         "Nantes, France",
#         "Strasbourg, France",
#         "Bordeaux, France",
#         "Berlin, Germany",
#         "Hamburg, Germany",
#         "Munich, Germany",
#         "Cologne, Germany",
#         "Frankfurt, Germany",
#         "Stuttgart, Germany",
#         "Düsseldorf, Germany",
#         "Leipzig, Germany",
#         "Vienna, Austria",
#         "Graz, Austria",
#         "Linz, Austria",
#         "Salzburg, Austria",
#         "Innsbruck, Austria",
#         "Klagenfurt, Austria",
#         "Geneva, Switzerland",
#         "Zurich, Switzerland",
#         "Basel, Switzerland",
#         "Lausanne, Switzerland",
#         "Bern, Switzerland",
#         "Lucerne, Switzerland",
#         "St. Gallen, Switzerland",
#         "Moscow, Russia",
#         "Saint Petersburg, Russia",
#         "Novosibirsk, Russia",
#         "Yekaterinburg, Russia",
#         "Nizhny Novgorod, Russia",
#         "Kazan, Russia",
#         "Chelyabinsk, Russia",
#         "Samara, Russia",
#         "Istanbul, Turkey",
#         "Ankara, Turkey",
#         "Izmir, Turkey",
#         "Bursa, Turkey",
#         "Adana, Turkey",
#         "Gaziantep, Turkey",
#         "Konya, Turkey",
#         "Antalya, Turkey",
#         "Beijing, China",
#         "Shanghai, China",
#         "Guangzhou, China",
#         "Shenzhen, China",
#         "Chengdu, China",
#         "Hangzhou, China",
#         "Wuhan, China",
#         "Tianjin, China",
#         "Seoul, South Korea",
#         "Busan, South Korea",
#         "Incheon, South Korea",
#         "Daegu, South Korea",
#         "Daejeon, South Korea",
#         "Gwangju, South Korea",
#         "Ulsan, South Korea",
#         "Athens, Greece",
#         "Thessaloniki, Greece",
#         "Patras, Greece",
#         "Heraklion, Greece",
#         "Larissa, Greece",
#         "Ioannina, Greece",
#         "Volos, Greece",
#         "Amsterdam, Netherlands",
#         "Rotterdam, Netherlands",
#         "The Hague, Netherlands",
#         "Utrecht, Netherlands",
#         "Eindhoven, Netherlands",
#         "Tilburg, Netherlands",
#         "Groningen, Netherlands",
#         "Prague, Czech Republic",
#         "Brno, Czech Republic",
#         "Ostrava, Czech Republic",
#         "Plzen, Czech Republic",
#         "Olomouc, Czech Republic",
#         "Liberec, Czech Republic",
#         "Hradec Kralove, Czech Republic",
#         "Vienna, Austria",
#         "Graz, Austria",
#         "Linz, Austria",
#         "Salzburg, Austria",
#         "Innsbruck, Austria",
#         "Klagenfurt, Austria",
#         "Helsinki, Finland",
#         "Espoo, Finland",
#         "Tampere, Finland",
#         "Vantaa, Finland",
#         "Turku, Finland",
#         "Oulu, Finland",
#         "Lahti, Finland",
#         "Bangkok, Thailand",
#         "Phuket, Thailand",
#         "Chiang Mai, Thailand",
#         "Pattaya, Thailand",
#         "Krabi, Thailand",
#         "Ayutthaya, Thailand",
#         "Samui, Thailand",
#         "Singapore, Singapore",
#         "Stockholm, Sweden",
#         "Gothenburg, Sweden",
#         "Malmo, Sweden",
#         "Uppsala, Sweden",
#         "Vasteras, Sweden",
#         "Orebro, Sweden",
#         "Linkoping, Sweden",
#         "Copenhagen, Denmark",
#         "Aarhus, Denmark",
#         "Odense, Denmark",
#         "Aalborg, Denmark",
#         "Esbjerg, Denmark",
#         "Randers, Denmark",
#         "Kolding, Denmark",
#         "Budapest, Hungary",
#         "Debrecen, Hungary",
#         "Szeged, Hungary",
#         "Miskolc, Hungary",
#         "Pecs, Hungary",
#         "Gyor, Hungary",
#         "Nyiregyhaza, Hungary",
#         "Dublin, Ireland",
#         "Cork, Ireland",
#         "Limerick, Ireland",
#         "Galway, Ireland",
#         "Waterford, Ireland",
#         "Belfast, United Kingdom",
#         "Manchester, United Kingdom",
#         "Birmingham, United Kingdom",
#         "Glasgow, United Kingdom",
#         "Edinburgh, United Kingdom",
#         "Liverpool, United Kingdom",
#         "Leeds, United Kingdom",
#         "Warsaw, Poland",
#         "Krakow, Poland",
#         "Lodz, Poland",
#         "Wroclaw, Poland",
#         "Poznan, Poland",
#         "Gdansk, Poland",
#         "Szczecin, Poland",
#         "Lisbon, Portugal",
#         "Porto, Portugal",
#         "Vila Nova de Gaia, Portugal",
#         "Amadora, Portugal",
#         "Braga, Portugal",
#         "Coimbra, Portugal",
#         "Funchal, Portugal",
#         "Oslo, Norway",
#         "Bergen, Norway",
#         "Stavanger, Norway",
#         "Trondheim, Norway",
#         "Drammen, Norway",
#         "Fredrikstad, Norway",
#         "Sandnes, Norway",
#         "Reykjavik, Iceland",
#         "Brasília, Brazil",
#         "Rio de Janeiro, Brazil",
#         "São Paulo, Brazil",
#         "Salvador, Brazil",
#         "Fortaleza, Brazil",
#         "Belo Horizonte, Brazil",
#         "Manaus, Brazil",
#         "Recife, Brazil",
#         "Mexico City, Mexico",
#         "Guadalajara, Mexico",
#         "Monterrey, Mexico",
#         "Puebla City, Mexico",
#         "Tijuana, Mexico",
#         "Ciudad Juarez, Mexico",
#         "Leon, Mexico",
#         "Santiago, Chile",
#         "Valparaiso, Chile",
#         "Concepcion, Chile",
#         "Antofagasta, Chile",
#         "Vina del Mar, Chile",
#         "Temuco, Chile",
#         "Rancagua, Chile",
#         "Bogota, Colombia",
#         "Medellin, Colombia",
#         "Cali, Colombia",
#         "Barranquilla, Colombia",
#         "Cartagena, Colombia",
#         "Cucuta, Colombia",
#         "Bucaramanga, Colombia",
#         "Lima, Peru",
#         "Arequipa, Peru",
#         "Trujillo, Peru",
#         "Chiclayo, Peru",
#         "Piura, Peru",
#         "Cusco, Peru",
#         "Chimbote, Peru",
#         "Caracas, Venezuela",
#         "Maracaibo, Venezuela",
#         "Valencia, Venezuela",
#         "Barquisimeto, Venezuela",
#         "Maracay, Venezuela",
#         "Ciudad Guayana, Venezuela",
#         "Nairobi, Kenya",
#         "Mombasa, Kenya",
#         "Kisumu, Kenya",
#         "Nakuru, Kenya",
#         "Eldoret, Kenya",
#         "Nyeri, Kenya",
#         "Casablanca, Morocco",
#         "Rabat, Morocco",
#         "Marrakech, Morocco",
#         "Fes, Morocco",
#         "Tangier, Morocco",
#         "Agadir, Morocco",
#         "Beirut, Lebanon",
#         "Tripoli, Lebanon",
#         "Sidon, Lebanon",
#         "Tyre, Lebanon",
#         "Zahle, Lebanon",
#         "New Delhi, India",
#         "Mumbai, India",
#         "Kolkata, India",
#         "Chennai, India",
#         "Bangalore, India",
#         "Hyderabad, India",
#         "Ahmedabad, India",
#         "Pune, India",
#         "Jaipur, India",
#         "Hanoi, Vietnam",
#         "Ho Chi Minh City, Vietnam",
#         "Da Nang, Vietnam",
#         "Haiphong, Vietnam",
#         "Nha Trang, Vietnam",
#         "Can Tho, Vietnam",
#         "Manila, Philippines",
#         "Quezon City, Philippines",
#         "Caloocan, Philippines",
#         "Davao City, Philippines",
#         "Cebu City, Philippines",
#         "Zamboanga City, Philippines",
#         "Jakarta, Indonesia",
#         "Surabaya, Indonesia",
#         "Bandung, Indonesia",
#         "Medan, Indonesia",
#         "Semarang, Indonesia",
#         "Palembang, Indonesia",
#         "Kuala Lumpur, Malaysia",
#         "George Town, Malaysia",
#         "Ipoh, Malaysia",
#         "Shah Alam, Malaysia",
#         "Petaling Jaya, Malaysia",
#         "Malacca City, Malaysia",
#         "Wellington, New Zealand",
#         "Auckland, New Zealand",
#         "Christchurch, New Zealand",
#         "Hamilton, New Zealand",
#         "Tauranga, New Zealand",
#         "Napier, New Zealand",
#         "Dunedin, New Zealand",
#         "San Francisco, United States",
#         "Los Angeles, United States",
#         "Chicago, United States",
#         "Miami, United States",
#         "Boston, United States",
#         "Seattle, United States",
#         "Las Vegas, United States",
#         # "Washington, D.C., United States",
#         "San Diego, United States",
#         "Houston, United States",
#         "Dallas, United States",
#         "Atlanta, United States",
#         "Denver, United States",
#         "Phoenix, United States",
#         "Portland, United States",
#         "Philadelphia, United States",
#         "Vancouver, Canada",
#         "Montreal, Canada",
#         "Calgary, Canada",
#         "Ottawa, Canada",
#         "Edmonton, Canada",
#         "Quebec City, Canada",
#         "Sydney, Canada",
#         "Melbourne, Australia",
#         "Brisbane, Australia",
#         "Perth, Australia",
#         "Adelaide, Australia",
#         "Auckland, New Zealand",
#         "Christchurch, New Zealand",
#         "Wellington, New Zealand",
#         "Christchurch, New Zealand"
#             ]
#         geolocator = Nominatim(user_agent="dream-trip")

#         for item in my_list:
#             city, country = item.split(", ")
#             # print(city)
#             existing_country = Country.objects.filter(name=country).first()
            
#             existing_city = City.objects.filter(name=city)
            
#             if existing_city:
#                 print ('continue')
#                 continue
#             else:

#                 country_id=existing_country.id
#                 wiki=process_query(city)
#                 location = geolocator.geocode(f"{city},{country}")
#                 landmarks = [location.latitude, location.longitude]
#                 city_query = City(country_id=country_id, city=city, latitude=landmarks[0], longitude=landmarks[1], description=wiki[0])
#                 city_query.save()
#                 print ('save successufly')
    
#         print(city,country)
#     thread = Thread(target=process_list)
#     thread.start()
#     exit
#     exit

from dotenv import load_dotenv

from trip_advisor import flickr_api

load_dotenv()



# from geopy.geocoders import Nominatim
# from urllib.parse import quote

# def trip_advisor_attraction(city_name,country,landmarks):
#     geolocator = Nominatim(user_agent="dream-trip")
#     key=os.environ.get('TRIP_ADVISOR_KEY')
#     print ('start trip adviosr attractions')
#     url = f"https://api.content.tripadvisor.com/api/v1/location/nearby_search?"
#     headers = {"accept": "application/json"}
#     params = {
#         'searchQuery': f"{city_name},{country}",
#         'latLong': quote(f"{landmarks[0]}, {landmarks[1]}"),  # URL-encode the latLong values
#         'key' : {key},
#         'category': 'attractions',
#         'radius': '10',
#         'radiusUnit':'km',
#         'language' : 'en'
#     }
#     response = requests.get(url, headers=headers, params=params)
#     print(response)
#     result = response.json()
#     attractions = []
#     for attraction in result['data']:
#         address_string = attraction['address_obj']['address_string']
#         address_obj = attraction['address_obj']
#         if 'street1' in address_obj and 'city' in address_obj and 'country' in address_obj:
#             street = address_obj['street1']
#             city_for_attraction = address_obj['city']
#             country = address_obj['country']
#             address_string1 = f"{street}, {city_for_attraction}, {country}"
#             location = geolocator.geocode(address_string1)
#             time.sleep(0.5)
#             latitude = None
#             longitude = None
#             if location is not None:
#                 latitude = location.latitude
#                 longitude = location.longitude
#                 print('Found landmarks for', latitude, longitude)

#             attraction_info = {
#                 'location_ID' : attraction['location_id'],
#                 'name': attraction['name'],
#                 'latitude': latitude,
#                 'longitude': longitude,
#                 'address_string':address_string,
#             }
#             print ('attraction_info save successfuly')
#             attractions.append(attraction_info) 
#     print(attractions)
#     return (attractions)

# trip_advisor_attraction('Asuncion','Paraguay',[25.2637,57.5759])


data={'html_attributions': [], 'next_page_token': 'AUacShjW7BzJ_EQRWf9VRIa38vn35ywz8_a3JEvMkI1ITCqlIOjdYLfXIZGrwsrH8RVV-_DAvNtrd80re_W5DtZdXYktz4HsElkB2uN7Mz9j8JVf2EvQiAo24bfPnyNIs_NJyJuulRsHPoxFPR6yuJcGoGXkSc8fzasTIIy_W6GMaW8FE3pOxajrC17bbR30AAh_QhjuIksfdHjNP15UlwHGF1yUxeHaR4LBSA9FOZFW4D928Xm7sQF2s2PNJuvfkuQ2FyY49OSlqDO17goUzP4bVup8dyZAUE2puoaCG0lcVZEgsdL4R_Uu5PusQkW0aLFqXHJ4D2oHXsfnxTXF5jKacoxJTkvhZxEVEGYk6PM2OLxe585IJP9fY2s2-3KKbjuj1tXDZ6qqll3nlzMpM-yJyw', 'results': [{'business_status': 'OPERATIONAL', 'formatted_address': 'Malkhi Yisrael St 15, Tel Aviv-Yafo, Israel', 'geometry': {'location': {'lat': 32.0852999, 'lng': 34.78176759999999}, 'viewport': {'northeast': {'lat': 32.08667947989272, 'lng': 34.78312707989273}, 'southwest': {'lat': 32.08397982010727, 'lng': 34.78042742010728}}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png', 'icon_background_color': '#909CE1', 'icon_mask_base_uri': 'https://maps.gstatic.com/mapfiles/place_api/icons/v2/hotel_pinlet', 'name': 'Melody hotel', 'photos': [{'height': 480, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/115289915062285430567">Hilary Levitt</a>'], 'photo_reference': 'AUacShh8_W1ULyhqQ-o4bsa9c2bozz_Sbd_AH69FHexEIIIIQ-17MrRFvMrozs5-dyvzi8yACo3wN-oMV-wiWBVmVUdxLvAsAxldVuMlXRFw50viIJV5jOQUB4Udtd6-FPYXhaooDTXLdwkrtAmvycKECWj4LzB9AwwNJWiiGUM2SQultoPj', 'width': 640}], 'place_id': 'ChIJN6RqZz5LHRUR5-rVJA73rAk', 'plus_code': {'compound_code': '3QPJ+4P Tel Aviv-Yafo', 'global_code': '8G4P3QPJ+4P'}, 'rating': 4, 'reference': 'ChIJN6RqZz5LHRUR5-rVJA73rAk', 'types': ['lodging', 'point_of_interest', 'establishment'], 'user_ratings_total': 1}, {'business_status': 'OPERATIONAL', 'formatted_address': 'HaYarkon St 155, Tel Aviv-Yafo, 6345318, Israel', 'geometry': {'location': {'lat': 32.0845413, 'lng': 34.7691574}, 'viewport': {'northeast': {'lat': 32.08574422989272, 'lng': 34.77062767989273}, 'southwest': {'lat': 32.08304457010728, 'lng': 34.76792802010728}}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png', 'icon_background_color': '#909CE1', 'icon_mask_base_uri': 'https://maps.gstatic.com/mapfiles/place_api/icons/v2/hotel_pinlet', 'name': 'Herods Tel Aviv', 'opening_hours': {'open_now': True}, 'photos': [{'height': 668, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/101880806172555203158">הרודס - Herods</a>'], 'photo_reference': 'AUacShixkOcBnmO2UmHYYyzOeMR8mRfWZAGW1exBhiU_tQTs-d0Vkf9nA-MVWbRBqIfwbLXYig2DRoqp8yU4EKx9PBYUDoGhI-1BXpdGZOYLwyiqf6QLZ3mDdZvEXPQns6ezxjPwl6CRq7Lvpz5BXC5X6rquz4gUEqFxThKtnt6zez6vtaAE', 'width': 1000}], 'place_id': 'ChIJ27Xi8XlMHRURNXX823lUlBQ', 'plus_code': {'compound_code': '3QM9+RM Tel Aviv-Yafo', 'global_code': '8G4P3QM9+RM'}, 'rating': 4.3, 'reference': 'ChIJ27Xi8XlMHRURNXX823lUlBQ', 'types': ['lodging', 'point_of_interest', 'establishment'], 'user_ratings_total': 7591}, {'business_status': 'OPERATIONAL', 'formatted_address': 'HaYarkon St 205, Tel Aviv-Yafo, 6340506, Israel', 'geometry': {'location': {'lat': 32.0891109, 'lng': 34.7709242}, 'viewport': {'northeast': {'lat': 32.09045852989272, 'lng': 34.77228277989271}, 'southwest': {'lat': 32.08775887010728, 'lng': 34.76958312010727}}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png', 'icon_background_color': '#909CE1', 'icon_mask_base_uri': 'https://maps.gstatic.com/mapfiles/place_api/icons/v2/hotel_pinlet', 'name': 'Hilton Tel Aviv', 'photos': [{'height': 1678, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/116149343007112599009">A Google User</a>'], 'photo_reference': 'AUacShinmUZJcncca1B1Pr1yGRevz12aqlab6xOOtWGdDdPjCFz2bs87XIkmRbapd2k1oNPwQwYn8-Q8hzaq1s9bJ_s818UDZkmVTp0nAQezYbc2BvWsyNAR-hOc9eqqfxPcgiMV46YruRS0KDoYeuKBaaeBPUxa9eqNODTq5cP7U0TWi19B', 'width': 2500}], 'place_id': 'ChIJTTKZgnZMHRURA7ZhchPQTdU', 'plus_code': {'compound_code': '3QQC+J9 Tel Aviv-Yafo', 'global_code': '8G4P3QQC+J9'}, 'rating': 4.4, 'reference': 'ChIJTTKZgnZMHRURA7ZhchPQTdU', 'types': ['spa', 'lodging', 'point_of_interest', 'establishment'], 'user_ratings_total': 5246}, {'business_status': 'OPERATIONAL', 'formatted_address': 'HaYarkon St 145, Tel Aviv-Yafo, 6345313, Israel', 'geometry': {'location': {'lat': 32.08388, 'lng': 34.768849}, 'viewport': {'northeast': {'lat': 32.08517747989272, 'lng': 34.77037567989273}, 'southwest': {'lat': 32.08247782010728, 'lng': 34.76767602010729}}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png', 'icon_background_color': '#909CE1', 'icon_mask_base_uri': 'https://maps.gstatic.com/mapfiles/place_api/icons/v2/hotel_pinlet', 'name': 'Crowne Plaza Tel Aviv Beach, an IHG Hotel', 'photos': [{'height': 2268, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/103402602008836528805">Ran Perlman</a>'], 'photo_reference': 'AUacShjPORCbSZXPYcwDTTd-10KyDe_UIEI73ton7pWNN0wDesdmQyQSxDyoluZ_Elsz0v-OBIqMr9fekgzd0ERvLeEli9adr6KMQXgoBqrZoj5L8Wt_4MfRtDUW6tfejduPyZHVLjtGtMw53vkMcxevE1ZUNx6BCkQ1UegYW6fqFIH_qgfV', 'width': 4032}], 'place_id': 'ChIJtQQij3lMHRUR53cZbbSyAIk', 'plus_code': {'compound_code': '3QM9+HG Tel Aviv-Yafo', 'global_code': '8G4P3QM9+HG'}, 'rating': 4.1, 'reference': 'ChIJtQQij3lMHRUR53cZbbSyAIk', 'types': ['lodging', 'point_of_interest', 'establishment'], 'user_ratings_total': 3126}, {'business_status': 'OPERATIONAL', 'formatted_address': 'Trumpeldor St 11, Tel Aviv-Yafo, Israel', 'geometry': {'location': {'lat': 32.0755666, 'lng': 34.7674802}, 'viewport': {'northeast': {'lat': 32.07687552989272, 'lng': 34.76882897989272}, 'southwest': {'lat': 32.07417587010728, 'lng': 34.76612932010728}}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png', 'icon_background_color': '#909CE1', 'icon_mask_base_uri': 'https://maps.gstatic.com/mapfiles/place_api/icons/v2/hotel_pinlet', 'name': 'Hotel Metropolitan Tel-Aviv', 'photos': [{'height': 3024, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/110695762023663386982">Stuart Fisher</a>'], 'photo_reference': 'AUacShiN_OfsvZWARAfSjlJvYNliLgQHnRg4dUcvHtpx_XQipX51b_EvgCnNUnn0UU6L_A7C47OtKpBq8vmES29kq3zw9QRFy0I3vd_UQLXrA_SHA_G9xyW04YQcJXDZCWHuhSM6dAk1iZZmv1cxbDmJyeO4mF-4icq8VIjAR6Csf9d8h7zx', 'width': 4032}], 'place_id': 'ChIJa0GD931MHRURJOd0h3zU12s', 'plus_code': {'compound_code': '3QG8+6X Tel Aviv-Yafo', 'global_code': '8G4P3QG8+6X'}, 'rating': 4.1, 'reference': 'ChIJa0GD931MHRURJOd0h3zU12s', 'types': ['lodging', 'point_of_interest', 'establishment'], 'user_ratings_total': 2465}, {'business_status': 'OPERATIONAL', 'formatted_address': 'Hulda St 11, Tel Aviv-Yafo, 6458210, Israel', 'geometry': {'location': {'lat': 32.086063, 'lng': 34.7761387}, 'viewport': {'northeast': {'lat': 32.08737762989271, 'lng': 34.77746442989272}, 'southwest': {'lat': 32.08467797010727, 'lng': 34.77476477010728}}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png', 'icon_background_color': '#909CE1', 'icon_mask_base_uri': 'https://maps.gstatic.com/mapfiles/place_api/icons/v2/hotel_pinlet', 'name': 'Hotel Arbel Tel Aviv | מלון ארבל תל אביב', 'opening_hours': {'open_now': True}, 'photos': [{'height': 2128, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/101584308957866270272">Hava Atias</a>'], 'photo_reference': 'AUacShiRmGHGfMQ2c5QNYp9dEFRyEADoLjKGzk5ug9xPfUOdatL-f2L3S_Am8IQpJs3ho1tt4B6ZN8Oi3cdV_xqmQbvZ2eHQlZdEEVoYqRt2Hq7VjjOZ6CL1VxLidL0G_7O7xF5i3_MzCO-d7NEpQSfZlVpVqxfRo8n7PT3Eal9Qvwf8H2OQ', 'width': 4608}], 'place_id': 'ChIJf9Qlu4lLHRURT2FNCY0M2QY', 'plus_code': {'compound_code': '3QPG+CF Tel Aviv-Yafo', 'global_code': '8G4P3QPG+CF'}, 'rating': 4.5, 'reference': 'ChIJf9Qlu4lLHRURT2FNCY0M2QY', 'types': ['lodging', 'point_of_interest', 'establishment'], 'user_ratings_total': 416}, {'business_status': 'OPERATIONAL', 'formatted_address': 'Arlozorov St 23, Tel Aviv-Yafo, Israel', 'geometry': {'location': {'lat': 32.08696, 'lng': 34.7752976}, 'viewport': {'northeast': {'lat': 32.08828447989272, 'lng': 34.77663862989273}, 'southwest': {'lat': 32.08558482010728, 'lng': 34.77393897010729}}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png', 'icon_background_color': '#909CE1', 'icon_mask_base_uri': 'https://maps.gstatic.com/mapfiles/place_api/icons/v2/hotel_pinlet', 'name': 'A23 Boutique Hotel Tel Aviv', 'opening_hours': {'open_now': True}, 'photos': [{'height': 4032, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/101820539595962511909">niv</a>'], 'photo_reference': 'AUacShgJLtBMdeXFc208MBxZvF_LepK0iBLnifuTyV3pTeFhgtzFH81v_c_ZHFDhVqvM95v5YCdzQz2UMw8Rk4plRHxqlpJgf7szchIOEq2xEHlpWWOJlmp9i775LxLGVFlC3cQdOVo_dOzS0Rzgj5gsJMbNVnCsu4CoOKl-S7TEllGSYs4D', 'width': 3024}], 'place_id': 'ChIJnfX_6olLHRURljZer4-5HUU', 'plus_code': {'compound_code': '3QPG+R4 Tel Aviv-Yafo', 'global_code': '8G4P3QPG+R4'}, 'rating': 4.5, 'reference': 'ChIJnfX_6olLHRURljZer4-5HUU', 'types': ['lodging', 'point_of_interest', 'establishment'], 'user_ratings_total': 417}, {'business_status': 'OPERATIONAL', 'formatted_address': 'Havakuk HaNavi St 3, Tel Aviv-Yafo, Israel', 'geometry': {'location': {'lat': 32.0935645, 'lng': 34.7730239}, 'viewport': {'northeast': {'lat': 32.09483762989272, 'lng': 34.77434197989272}, 'southwest': {'lat': 32.09213797010728, 'lng': 34.77164232010728}}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png', 'icon_background_color': '#909CE1', 'icon_mask_base_uri': 'https://maps.gstatic.com/mapfiles/place_api/icons/v2/hotel_pinlet', 'name': 'Alexander Tel Aviv Hotel', 'opening_hours': {'open_now': True}, 'photos': [{'height': 1020, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/113435733909963680243">מלון אלכסנדר</a>'], 'photo_reference': 'AUacShjSuZjiF9jIyYrY02pcNxPe0dPKGgZEY_H904g_2UcZ89vJPiL3hE-Yv1KPnLU5NIT_zvNcjVc0j0F6yWC_LPI_lVO_nH_PiDtSC89P2d3sOHtDJQlnAmSv8XJUpyaI6M5x6XFhaD20k-45Yzne2g3YYJ_sthSqel2WucDVHtZtOhTa', 'width': 1493}], 'place_id': 'ChIJP6fENXVMHRURF_zkSACTXY8', 'plus_code': {'compound_code': '3QVF+C6 Tel Aviv-Yafo', 'global_code': '8G4P3QVF+C6'}, 'rating': 4.3, 'reference': 'ChIJP6fENXVMHRURF_zkSACTXY8', 'types': ['lodging', 'point_of_interest', 'establishment'], 'user_ratings_total': 1154}, {'business_status': 'OPERATIONAL', 'formatted_address': 'HaYarkon St 115, Tel Aviv-Yafo, 63573, Israel', 'geometry': {'location': {'lat': 32.0813441, 'lng': 34.7681592}, 'viewport': {'northeast': {'lat': 32.08269722989272, 'lng': 34.76963297989272}, 'southwest': {'lat': 32.07999757010727, 'lng': 34.76693332010727}}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png', 'icon_background_color': '#909CE1', 'icon_mask_base_uri': 'https://maps.gstatic.com/mapfiles/place_api/icons/v2/hotel_pinlet', 'name': 'Sheraton Grand Tel Aviv', 'photos': [{'height': 320, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/112896037744522598770">A Google User</a>'], 'photo_reference': 'AUacShippc9-xfZMbhTCDupoR_7lspa4hEFRlTIPfj3wrBjwrJchLRGs5W5l9d5bRYOinLBX1TgcrzL4NPBRZTXGa1oXBQuM1hUyUyFPaAzOT40X_GuBWRbZE0hFThgBIP3B3fRl9wqOX93Iuhz12mx7WYFxdKN2R8Pn4R-Dmz_n1OV-aifC', 'width': 480}], 'place_id': 'ChIJY8G233tMHRURBWCX7OaCsjk', 'plus_code': {'compound_code': '3QJ9+G7 Tel Aviv-Yafo', 'global_code': '8G4P3QJ9+G7'}, 'rating': 4.4, 'reference': 'ChIJY8G233tMHRURBWCX7OaCsjk', 'types': ['lodging', 'point_of_interest', 'establishment'], 'user_ratings_total': 2210}, {'business_status': 'OPERATIONAL', 'formatted_address': 'HaYarkon St 99, Tel Aviv-Yafo, Israel', 'geometry': {'location': {'lat': 32.0795895, 'lng': 34.7678729}, 'viewport': {'northeast': {'lat': 32.08109052989272, 'lng': 34.76931687989273}, 'southwest': {'lat': 32.07839087010727, 'lng': 34.76661722010729}}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png', 'icon_background_color': '#909CE1', 'icon_mask_base_uri': 'https://maps.gstatic.com/mapfiles/place_api/icons/v2/hotel_pinlet', 'name': 'Dan Tel Aviv Hotel', 'opening_hours': {'open_now': True}, 'photos': [{'height': 2048, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/109621873117673430213">A Google User</a>'], 'photo_reference': 'AUacShiKEY4b3Xfqnuhvj3GUNKfIVkVSkfm9yO2UiacWe2H-CxBBHnG3w_OQhm9AtXgZkrB6zU6GgrOKYcUl4hpuhTqGPcGrV0yLmIMOGoQH65yOXTwyZIcB46C3Nr-0aqmOkmD-GcdESybcCm89R7gvB7CDgQZBGKn9uaqzdDRJA8gj2UqZ', 'width': 1886}], 'place_id': 'ChIJkx9UBXxMHRURbwCg4ixU1dA', 'plus_code': {'compound_code': '3QH9+R4 Tel Aviv-Yafo', 'global_code': '8G4P3QH9+R4'}, 'rating': 4.3, 'reference': 'ChIJkx9UBXxMHRURbwCg4ixU1dA', 'types': ['lodging', 'point_of_interest', 'establishment'], 'user_ratings_total': 2607}, {'business_status': 'OPERATIONAL', 'formatted_address': 'Ben Yehuda St 35, Tel Aviv-Yafo, Israel', 'geometry': {'location': {'lat': 32.0771101, 'lng': 34.7679724}, 'viewport': {'northeast': {'lat': 32.07842432989273, 'lng': 34.76949672989272}, 'southwest': {'lat': 32.07572467010728, 'lng': 34.76679707010727}}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png', 'icon_background_color': '#909CE1', 'icon_mask_base_uri': 'https://maps.gstatic.com/mapfiles/place_api/icons/v2/hotel_pinlet', 'name': 'Artist an Atlas Boutique Hotel', 'opening_hours': {'open_now': True}, 'photos': [{'height': 3456, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/108535774035410303206">ran yedidya</a>'], 'photo_reference': 'AUacShhXZZjYlnBOD_ZaS5yuvXcwZ_AmVdhIMcMS142JBaavbWhO6debU87iLqQXNjv_x8w4hOFFOEokII8hpRaHkiKWakzDIQLSqetbrKoLj4BiHrxgfaGIiY0jYInLbXrJOQS0Gt6dNs8zVBVBHGL2m1wBuVYjRvVMh3YCmOvKPxHWKNp6', 'width': 3456}], 'place_id': 'ChIJR-_m1n1MHRURexcv2Kna2Bs', 'plus_code': {'compound_code': '3QG9+R5 Tel Aviv-Yafo', 'global_code': '8G4P3QG9+R5'}, 'rating': 4.5, 'reference': 'ChIJR-_m1n1MHRURexcv2Kna2Bs', 'types': ['lodging', 'point_of_interest', 'establishment'], 'user_ratings_total': 698}, {'business_status': 'OPERATIONAL', 'formatted_address': 'HaYarkon St 86, Tel Aviv-Yafo, Israel', 'geometry': {'location': {'lat': 32.0776336, 'lng': 34.7675257}, 'viewport': {'northeast': {'lat': 32.07898272989272, 'lng': 34.76885652989272}, 'southwest': {'lat': 32.07628307010728, 'lng': 34.76615687010728}}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png', 'icon_background_color': '#909CE1', 'icon_mask_base_uri': 'https://maps.gstatic.com/mapfiles/place_api/icons/v2/hotel_pinlet', 'name': 'Maxim Hotel Tel Aviv - מלון מקסים תל אביב', 'opening_hours': {'open_now': True}, 'photos': [{'height': 680, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/116432149663877434486">Maxim Hotel Tel-Aviv</a>'], 'photo_reference': 'AUacShg5_rbqGBZtcmELwSHBecZaqqO-uBZW7bwe1wYXBi8i-W9ykG-4QE2nT-C8waCHM8STnBxc8lfEsy9S0kFDps6CITD6ty723p9WDUN_reXVsx_MBsPNLyHhwUo6ETB6KzZdv5OnJO8QcMECuSbKGOG35AjgHkaRyz3hLz1lSZKObQRW', 'width': 1024}], 'place_id': 'ChIJXW8ByX1MHRURTCRvGlfDaQM', 'plus_code': {'compound_code': '3QH9+22 Tel Aviv-Yafo', 'global_code': '8G4P3QH9+22'}, 'rating': 4.4, 'reference': 'ChIJXW8ByX1MHRURTCRvGlfDaQM', 'types': ['lodging', 'point_of_interest', 'establishment'], 'user_ratings_total': 692}, {'business_status': 'OPERATIONAL', 'formatted_address': 'Dizengoff St 133, Tel Aviv-Yafo, 6346102, Israel', 'geometry': {'location': {'lat': 32.0821533, 'lng': 34.7737503}, 'viewport': {'northeast': {'lat': 32.08349812989272, 'lng': 34.77514502989273}, 'southwest': {'lat': 32.08079847010728, 'lng': 34.77244537010728}}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png', 'icon_background_color': '#909CE1', 'icon_mask_base_uri': 'https://maps.gstatic.com/mapfiles/place_api/icons/v2/hotel_pinlet', 'name': 'Dizengoff Avenue Hotel', 'photos': [{'height': 1960, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/105513930014296519293">Eti Hindi</a>'], 'photo_reference': 'AUacShig5jYp188Koa5afsV4EpwHsMW5mXnL2bA0-LfNOWpkJoQM29kTmHC6VbT7jZikpGMJx-lts0IJgu6_FvY61nLdhtOeicCF_Zrm-_yU10ZHaUBp73iHirsBBryL2VNyJUItxkiy8VbmQKxJxbYHSr5uno2J3AIBGhruQgAvrAAiefaO', 'width': 4032}], 'place_id': 'ChIJpwZhdHhMHRUR-YaWoEqfvbs', 'plus_code': {'compound_code': '3QJF+VG Tel Aviv-Yafo', 'global_code': '8G4P3QJF+VG'}, 'rating': 4.4, 'reference': 'ChIJpwZhdHhMHRUR-YaWoEqfvbs', 'types': ['lodging', 'point_of_interest', 'establishment'], 'user_ratings_total': 256}, {'business_status': 'OPERATIONAL', 'formatted_address': 'HaYarkon St 19, Tel Aviv-Yafo, Israel', 'geometry': {'location': {'lat': 32.0704339, 'lng': 34.7646432}, 'viewport': {'northeast': {'lat': 32.07174907989272, 'lng': 34.76612742989272}, 'southwest': {'lat': 32.06904942010728, 'lng': 34.76342777010728}}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png', 'icon_background_color': '#909CE1', 'icon_mask_base_uri': 'https://maps.gstatic.com/mapfiles/place_api/icons/v2/hotel_pinlet', 'name': 'Royal Beach Tel Aviv', 'photos': [{'height': 3024, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/106594675133268028255">samuel</a>'], 'photo_reference': 'AUacShhVsSETpEKp4YSETYZncbJb_mEpQjuH8buDMQ75_TyizhBBm-rW4c4oASBD29MrMLeeRwedr0xqgbW5iUKOSNUoEY5Cz9d7p3fxy4irWkYeni1SoILvFwWy3gk_2jICM0Yw9vpiqYmjLphlLUv-gVlFbdGhqmv2AzNPCnWwkdRBEJVb', 'width': 4032}], 'place_id': 'ChIJsdI6x4VMHRURAg6jplKdaBs', 'plus_code': {'compound_code': '3QC7+5V Tel Aviv-Yafo', 'global_code': '8G4P3QC7+5V'}, 'rating': 4.4, 'reference': 'ChIJsdI6x4VMHRURAg6jplKdaBs', 'types': ['lodging', 'point_of_interest', 'establishment'], 'user_ratings_total': 3507}, {'business_status': 'OPERATIONAL', 'formatted_address': 'HaYarkon St 79, Tel Aviv-Yafo, 63432, Israel', 'geometry': {'location': {'lat': 32.0772641, 'lng': 34.76698}, 'viewport': {'northeast': {'lat': 32.07858902989272, 'lng': 34.76842687989272}, 'southwest': {'lat': 32.07588937010728, 'lng': 34.76572722010728}}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png', 'icon_background_color': '#909CE1', 'icon_mask_base_uri': 'https://maps.gstatic.com/mapfiles/place_api/icons/v2/hotel_pinlet', 'name': 'Orchid Tel Aviv', 'opening_hours': {'open_now': True}, 'photos': [{'height': 1075, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/112158004857632266190">A Google User</a>'], 'photo_reference': 'AUacShjvE8UueZ9S1FB0hl3DZd7j31qaWmYrQqey_eKfeFJV2d7jHene0r769GuVYnlsJYneMcIeBfsCXmyfcoKG6aMsdKXQ4UJfQc_wCgj44sKDtVZnrn6biBHdpDVFlL9PuCFbBeSSg2L7jwy2Y-rQTzCC3N3rClLjjLckpVzW-pcuoXOt', 'width': 1613}], 'place_id': 'ChIJ9cUqun1MHRURoMLp5Wna0UY', 'plus_code': {'compound_code': '3QG8+WQ Tel Aviv-Yafo', 'global_code': '8G4P3QG8+WQ'}, 'rating': 4, 'reference': 'ChIJ9cUqun1MHRURoMLp5Wna0UY', 'types': ['lodging', 'point_of_interest', 'establishment'], 'user_ratings_total': 1668}, {'business_status': 'OPERATIONAL', 'formatted_address': 'Zamenhoff St 2, Tel Aviv-Yafo, Israel', 'geometry': {'location': {'lat': 32.0777656, 'lng': 34.7750268}, 'viewport': {'northeast': {'lat': 32.07916397989272, 'lng': 34.77638652989273}, 'southwest': {'lat': 32.07646432010728, 'lng': 34.77368687010728}}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png', 'icon_background_color': '#909CE1', 'icon_mask_base_uri': 'https://maps.gstatic.com/mapfiles/place_api/icons/v2/hotel_pinlet', 'name': 'Center Chic Hotel', 'opening_hours': {'open_now': True}, 'photos': [{'height': 4032, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/104585198258383733126">jennifer scheimer</a>'], 'photo_reference': 'AUacShijTjdryKPK1l_L4_R9BEzN8JnLQCbCSBUIfMKbPp5U3tL4VZwdm5A5YbItAiESPFJhOPgVKfPjy1e2_BLaLRSEL5KVTpVeQeS93yWWGK5mBWKrNxh0DhUHTv8ksolZCdLfeUEFuJ9ePPgaf31E-3PlKU-w0zh2OsNTN8tWtrsvKKxp', 'width': 3024}], 'place_id': 'ChIJx8f2sYBLHRURoaKFTYfWEfY', 'plus_code': {'compound_code': '3QHG+42 Tel Aviv-Yafo', 'global_code': '8G4P3QHG+42'}, 'rating': 4.6, 'reference': 'ChIJx8f2sYBLHRURoaKFTYfWEfY', 'types': ['lodging', 'point_of_interest', 'establishment'], 'user_ratings_total': 723}, {'business_status': 'OPERATIONAL', 'formatted_address': 'Ben Yehuda St 14, Tel Aviv-Yafo, Israel', 'geometry': {'location': {'lat': 32.07443130000001, 'lng': 34.7682201}, 'viewport': {'northeast': {'lat': 32.07577817989272, 'lng': 34.76950532989272}, 'southwest': {'lat': 32.07307852010728, 'lng': 34.76680567010728}}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png', 'icon_background_color': '#909CE1', 'icon_mask_base_uri': 'https://maps.gstatic.com/mapfiles/place_api/icons/v2/hotel_pinlet', 'name': 'BY14 TLV Hotel', 'opening_hours': {'open_now': True}, 'photos': [{'height': 1536, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/116593812129791296521">A Google User</a>'], 'photo_reference': 'AUacShgfeWJiAsJbGEtgBOmBmZxCx-s2UbdrjX3ORMJEQyBPrM4p5N2bZiv1AV3AI6_wUMeyKKi0mfJ3bhP2LwmXMIz6NENclNhh3OyNMv-sbIc4YcBqCvWiXv_umwuD-olHZ8ePLns_dVaBRtc1gZvspVu1Jl2YnVxep62MA2jkxv2dRsfG', 'width': 2048}], 'place_id': 'ChIJ2-_sTodMHRURJ2opgabcBwg', 'plus_code': {'compound_code': '3QF9+Q7 Tel Aviv-Yafo', 'global_code': '8G4P3QF9+Q7'}, 'rating': 4.2, 'reference': 'ChIJ2-_sTodMHRURJ2opgabcBwg', 'types': ['lodging', 'point_of_interest', 'establishment'], 'user_ratings_total': 825}, {'business_status': 'OPERATIONAL', 'formatted_address': 'Eliezer Peri St 10, Tel Aviv-Yafo, Israel', 'geometry': {'location': {'lat': 32.08653, 'lng': 34.7695666}, 'viewport': {'northeast': {'lat': 32.08781087989271, 'lng': 34.77108747989272}, 'southwest': {'lat': 32.08511122010727, 'lng': 34.76838782010728}}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png', 'icon_background_color': '#909CE1', 'icon_mask_base_uri': 'https://maps.gstatic.com/mapfiles/place_api/icons/v2/hotel_pinlet', 'name': 'Carlton', 'opening_hours': {'open_now': True}, 'photos': [{'height': 356, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/113701502782705515995">A Google User</a>'], 'photo_reference': 'AUacShhAun66V_pnaH-Fyft6lG9ThTQmB0yKUiXzai4zjvISkNtNPY4Z372gHCDqLSLmHZfQwTDHlSbW3mXvoA7uCBz5DtkHoJCjhE5RhzCjGpyPoHtr67YFj515ZJhZzAG2leWz8tc433NjpVfWUqVBn5zTc9xThaI3o8lyPkf6EBf9qBck', 'width': 374}], 'place_id': 'ChIJEQS1HndMHRURU0QsYI5KxNg', 'plus_code': {'compound_code': '3QP9+JR Tel Aviv-Yafo', 'global_code': '8G4P3QP9+JR'}, 'rating': 4.5, 'reference': 'ChIJEQS1HndMHRURU0QsYI5KxNg', 'types': ['gym', 'bar', 'health', 'restaurant', 'food', 'spa', 'lodging', 'point_of_interest', 'establishment'], 'user_ratings_total': 2038}, {'business_status': 'OPERATIONAL', 'formatted_address': 'Shalom Aleichem St 5, Tel Aviv-Yafo, 6380606, Israel', 'geometry': {'location': {'lat': 32.0764022, 'lng': 34.7673204}, 'viewport': {'northeast': {'lat': 32.07770737989271, 'lng': 34.76867922989272}, 'southwest': {'lat': 32.07500772010727, 'lng': 34.76597957010728}}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png', 'icon_background_color': '#909CE1', 'icon_mask_base_uri': 'https://maps.gstatic.com/mapfiles/place_api/icons/v2/hotel_pinlet', 'name': 'Embassy Hotel Tel Aviv - מלון אמבסי תל אביב', 'opening_hours': {'open_now': True}, 'photos': [{'height': 2268, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/109960796695184430206">Ovidiu</a>'], 'photo_reference': 'AUacShi-SNqEe_gyZXfvNk9BtY1qT-MuSqVnezgzhmch63XBhksX0Qx5-zLbJPsybQsPJc-As6upJU14DGI028vlHeH0j-EIBUPbTUQKNJsO9ieuosoF2aPzDlYXhaKqyZl2HqXfXqOA4R0RneGpQHQ6TNQbS_rsmi5ZpoFVW011uNkBl8Sz', 'width': 4032}], 'place_id': 'ChIJy2FqlX1MHRUR2dqmFz4oEvs', 'plus_code': {'compound_code': '3QG8+HW Tel Aviv-Yafo', 'global_code': '8G4P3QG8+HW'}, 'rating': 4.4, 'reference': 'ChIJy2FqlX1MHRUR2dqmFz4oEvs', 'types': ['real_estate_agency', 'lodging', 'point_of_interest', 'establishment'], 'user_ratings_total': 941}, {'business_status': 'OPERATIONAL', 'formatted_address': 'HaYarkon St 250, Tel Aviv-Yafo, Israel', 'geometry': {'location': {'lat': 32.0925088, 'lng': 34.77370270000001}, 'viewport': {'northeast': {'lat': 32.09392112989272, 'lng': 34.77506477989272}, 'southwest': {'lat': 32.09122147010728, 'lng': 34.77236512010728}}}, 'icon': 'https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png', 'icon_background_color': '#909CE1', 'icon_mask_base_uri': 'https://maps.gstatic.com/mapfiles/place_api/icons/v2/hotel_pinlet', 'name': 'Grand Beach Hotel', 'photos': [{'height': 3264, 'html_attributions': ['<a href="https://maps.google.com/maps/contrib/111995759344334429222">פיני יצחקי</a>'], 'photo_reference': 'AUacShggjfBT1bCYJCMIg33QALPkhWXdVf8BvuATeH0gzBWS1dyco5SmmNmJmdD_B447n9WLms0mmIqurRaFTGTVct5sIVano6YcnKXSGXxpwSH6BklKHV60y4gHrx5vzU6ybjp9YA5S0DEQFQAWE48NOUu1kJE_cSt7odeIimhqMPn1u3j5', 'width': 2448}], 'place_id': 'ChIJvUR8QnVMHRUR9bG1emQSFUU', 'plus_code': {'compound_code': '3QVF+2F Tel Aviv-Yafo', 'global_code': '8G4P3QVF+2F'}, 'rating': 3.8, 'reference': 'ChIJvUR8QnVMHRUR9bG1emQSFUU', 'types': ['lodging', 'point_of_interest', 'establishment'], 'user_ratings_total': 2133}], 'status': 'OK'}



import concurrent.futures
from dotenv import load_dotenv
import requests
import os

load_dotenv()


# def fetch_photo(photo_reference):
#     API_KEY=os.environ.get('google_key')
#     if photo_reference:
#         initial_url = f"https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference={photo_reference}&key={API_KEY}"
#         response = requests.get(initial_url)
#         return response.url
#     return None
# city_list=[{"city": "Puebla City", "city_obj": 670}]
# places = []
def process_result(result):
    try:
        name = result['name']
        lat = result['geometry']['location']['lat']
        lng = result['geometry']['location']['lng']
        # price=result['price_level']
        # print(price)
        rating = result['rating']
        # if rating==0:
        #         pass
        place_id = result['place_id']
        photo_reference = result['photos'][0]['photo_reference'] if result.get('photos') else None
        html_attributions = result['photos'][0]['html_attributions'] if result.get('photos') else None
    
        # final_url =fetch_photo(photo_reference)
        image = flickr_api(name=name,latitude=lat,longitude=lng)
        print(name,image)
        # print(name,place_id)
        # place = {
        #     'name': name,
        #     'latitude': lat,
        #     'longitude': lng,
        #     'review_score': rating,
        #     'place_id': place_id,
        #     'photo': final_url,
        #     'html_attributions': html_attributions,
        # }
        # places.append(place)

    except Exception as e:
        print ('NOT',e)
    # Process results concurrently
with concurrent.futures.ThreadPoolExecutor() as executor:
    print('GGG')
    futures = [executor.submit(process_result, result) for result in data['results']]
    concurrent.futures.wait(futures)
    
